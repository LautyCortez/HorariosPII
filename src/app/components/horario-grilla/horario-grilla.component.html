<h2>Seleccione los horarios que desea visualizar</h2>

<mat-form-field>
  <mat-label>Día</mat-label>
  <mat-select [(value)]="selectedDay" (selectionChange)="onDaySelected($event.value)">
    <mat-option value="todos">Todos los días</mat-option>
    <mat-option value="lunes">Lunes</mat-option>
    <mat-option value="martes">Martes</mat-option>
    <mat-option value="miercoles">Miércoles</mat-option>
    <mat-option value="jueves">Jueves</mat-option>
    <mat-option value="viernes">Viernes</mat-option>
  </mat-select>
</mat-form-field>

<table mat-table [dataSource]="horarios" class="mat-elevation-z8">
  <ng-container matColumnDef="hora">
    <th mat-header-cell *matHeaderCellDef> Hora </th>
    <td mat-cell *matCellDef="let element"> {{element.hora}} </td>
  </ng-container>

  <ng-container *ngIf="selectedDay === 'todos'">
    <ng-container matColumnDef="lunes">
      <th mat-header-cell *matHeaderCellDef> Lunes </th>
      <td mat-cell *matCellDef="let element"> {{element.lunes || '-' }} </td>
    </ng-container>
    <ng-container matColumnDef="martes">
      <th mat-header-cell *matHeaderCellDef> Martes </th>
      <td mat-cell *matCellDef="let element"> {{element.martes || '-' }} </td>
    </ng-container>
    <ng-container matColumnDef="miercoles">
      <th mat-header-cell *matHeaderCellDef> Miércoles </th>
      <td mat-cell *matCellDef="let element"> {{element.miercoles || '-' }} </td>
    </ng-container>
    <ng-container matColumnDef="jueves">
      <th mat-header-cell *matHeaderCellDef> Jueves </th>
      <td mat-cell *matCellDef="let element"> {{element.jueves || '-' }} </td>
    </ng-container>
    <ng-container matColumnDef="viernes">
      <th mat-header-cell *matHeaderCellDef> Viernes </th>
      <td mat-cell *matCellDef="let element"> {{element.viernes || '-' }} </td>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="selectedDay !== 'todos'" matColumnDef="{{selectedDay}}">
    <th mat-header-cell *matHeaderCellDef> {{ selectedDay | titlecase }} </th>
    <td mat-cell *matCellDef="let element"> {{element[selectedDay] || '-' }} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>